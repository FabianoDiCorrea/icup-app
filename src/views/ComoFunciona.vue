<template>
  <div class="container mt-4 mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <div>
        <h2 class="text-primary fw-bold mb-0">Manual do Treinador</h2>
        <span class="text-muted small">Guia detalhado de funcionalidades</span>
      </div>
      <BButton variant="outline-secondary" @click="$router.push('/')">Voltar</BButton>
    </div>

    <BCard no-body class="shadow-sm border-0 overflow-hidden">
      <BRow class="g-0">
        <BCol md="3" class="bg-dark border-end">
          <div class="nav flex-column nav-pills p-3" role="tablist" aria-orientation="vertical">
            <button 
              class="nav-link text-start mb-1" 
              :class="{ active: abaAtiva === 'intro' }" 
              @click="abaAtiva = 'intro'"
            >
              ğŸ IntroduÃ§Ã£o
            </button>
            <button 
              class="nav-link text-start mb-1" 
              :class="{ active: abaAtiva === 'clubes' }" 
              @click="abaAtiva = 'clubes'"
            >
              ğŸ›¡ï¸ GestÃ£o de Clubes
            </button>
            <button 
              class="nav-link text-start mb-1" 
              :class="{ active: abaAtiva === 'campeonatos' }" 
              @click="abaAtiva = 'campeonatos'"
            >
              ğŸ† Campeonatos
            </button>
            <button 
              class="nav-link text-start mb-1" 
              :class="{ active: abaAtiva === 'partidas' }" 
              @click="abaAtiva = 'partidas'"
            >
              âš½ Operando a Partida
            </button>
            <button 
              class="nav-link text-start mb-1" 
              :class="{ active: abaAtiva === 'dados' }" 
              @click="abaAtiva = 'dados'"
            >
              ğŸ’¾ Backup e Dados
            </button>
          </div>
        </BCol>

        <BCol md="9" class="bg-dark">
          <div class="p-4" style="min-height: 500px;">
            
            <div v-if="abaAtiva === 'intro'" class="fade-in">
              <h4 class="text-primary mb-3">Bem-vindo ao Sistema</h4>
              <p>
                Este sistema foi desenhado para ser um gerenciador de campeonatos <strong>agnÃ³stico</strong>. 
                Isso significa que ele nÃ£o impÃµe regras rÃ­gidas de futebol profissional (como 11 jogadores ou 3 substituiÃ§Ãµes), 
                permitindo que vocÃª gerencie desde peladas de fim de semana, campeonatos de futsal, atÃ© ligas de videogame.
              </p>
              <BAlert show variant="info" class="mt-4">
                <h6 class="alert-heading fw-bold">âš ï¸ Importante: Modo Offline</h6>
                <p class="mb-0 small">
                  Todos os dados ficam salvos no <strong>seu navegador</strong>. Se vocÃª limpar o cache ou formatar o PC, os dados somem. 
                  Use a aba <strong>ConfiguraÃ§Ãµes</strong> frequentemente para baixar um backup dos seus dados.
                </p>
              </BAlert>
            </div>

            <div v-if="abaAtiva === 'clubes'" class="fade-in">
              <h4 class="text-primary mb-3">GestÃ£o de Clubes</h4>
              
              <h6 class="fw-bold mt-4">1. Cadastro FlexÃ­vel</h6>
              <p class="text-muted small">
                Ao criar um time, vocÃª nÃ£o precisa preencher 11 titulares. VocÃª pode cadastrar apenas 5 (futsal) ou atÃ© 22 jogadores.
                O sistema aceita times com qualquer nÃºmero de atletas.
              </p>

              <h6 class="fw-bold mt-4">2. Uniformes e Cores</h6>
              <p class="text-muted small">
                Na ediÃ§Ã£o do time, vocÃª pode criar "CombinaÃ§Ãµes de Cores" (Kits). 
                Essas cores aparecem na sÃºmula do jogo para diferenciar os times no placar.
                VocÃª define uma <strong>Cor Interna</strong> (predominante) e uma <strong>Cor Externa</strong> (borda/detalhe).
              </p>

              <h6 class="fw-bold mt-4">3. Siglas</h6>
              <p class="text-muted small">
                Defina uma sigla de 3 letras (ex: FLA, VAS, PAL). Ela serÃ¡ usada na visualizaÃ§Ã£o mobile para economizar espaÃ§o na tabela de jogos.
              </p>
            </div>

            <div v-if="abaAtiva === 'campeonatos'" class="fade-in">
              <h4 class="text-primary mb-3">Tipos de Campeonato</h4>
              
              <div class="d-flex gap-3 mb-4">
                <div class="border rounded p-3 bg-dark w-100">
                  <strong>Pontos Corridos</strong>
                  <p class="small text-muted mb-0">Tabela tradicional. Todos contra todos (Turno ou Turno/Returno).</p>
                </div>
                <div class="border rounded p-3 bg-dark w-100">
                  <strong>Mata-Mata</strong>
                  <p class="small text-muted mb-0">EliminatÃ³rias. VocÃª pode sortear ou definir manualmente os confrontos.</p>
                </div>
              </div>

              <h6 class="fw-bold">Fase de Grupos Interativa</h6>
              <p class="text-muted small">
                Ao criar um torneio de grupos, vocÃª define quantos times avanÃ§am (ex: 2 por grupo).
                ApÃ³s finalizar todos os jogos, um botÃ£o <strong>"Encerrar Grupos"</strong> aparecerÃ¡ na tela de detalhes.
                Isso gerarÃ¡ automaticamente a fase de <strong>Mata-Mata</strong> cruzando os classificados (ex: 1ÂºA x 2ÂºB).
              </p>

              <h6 class="fw-bold mt-3">AvanÃ§ando Fases (Mata-Mata)</h6>
              <p class="text-muted small">
               Quando todos os jogos da fase forem concluÃ­dos, o botÃ£o <strong>"Encerrar Fase"</strong> serÃ¡ liberado.
               Se a partida terminar empatada no tempo normal, a aba de <strong>PÃªnaltis</strong> ficarÃ¡ disponÃ­vel para preenchimento.
              Caso os pÃªnaltis nÃ£o sejam informados, o sistema abrirÃ¡ um menu para que vocÃª escolha manualmente quem avanÃ§a.
              </p>

            </div>

            <div v-if="abaAtiva === 'partidas'" class="fade-in">
              <h4 class="text-primary mb-3">Operando a Partida</h4>
              <p>A tela de SÃºmula Ã© o coraÃ§Ã£o do sistema. Ela Ã© dividida em abas:</p>

              <ul class="list-group list-group-flush small">
                <li class="list-group-item">
                  <strong>ğŸ“ SÃºmula (Lances):</strong> Clique na aÃ§Ã£o (Gol, CartÃ£o) e depois no jogador. O lance Ã© registrado automaticamente.
                </li>
                <li class="list-group-item">
                  <strong>â±ï¸ Linha do Tempo:</strong> Mostra a ordem cronolÃ³gica dos fatos. Se errou um gol, Ã© aqui que vocÃª clica na lixeira ğŸ—‘ï¸ para remover.
                </li>
                <li class="list-group-item">
                  <strong>ğŸ“‹ EscalaÃ§Ã£o:</strong> Marque quem comeÃ§ou jogando. Isso ajuda a calcular estatÃ­sticas e substituiÃ§Ãµes.
                </li>
                <li class="list-group-item">
                  <strong>ğŸ”„ SubstituiÃ§Ãµes:</strong> Selecione quem sai (deve estar em campo) e quem entra (deve estar no banco). O sistema atualiza visualmente quem estÃ¡ jogando na lista principal.
                </li>
                <li class="list-group-item">
                  <strong>ğŸ‘• Uniformes:</strong> Escolha qual kit cada time estÃ¡ usando para facilitar a visualizaÃ§Ã£o no placar.
                </li>
              </ul>
            </div>

            <div v-if="abaAtiva === 'dados'" class="fade-in">
              <h4 class="text-primary mb-3">Backup e SeguranÃ§a</h4>
              
              <h6 class="fw-bold">Exportar</h6>
              <p class="text-muted small">
                Gera um arquivo <code>.json</code> com tudo. FaÃ§a isso sempre que terminar uma rodada importante.
              </p>

              <h6 class="fw-bold">Importar (Mesclar vs Substituir)</h6>
              <p class="text-muted small">
                Ao importar, vocÃª tem duas opÃ§Ãµes:
                <br>
                <strong>Mesclar:</strong> Adiciona os dados do arquivo ao que vocÃª jÃ¡ tem (Ãºtil para juntar times criados em PCs diferentes).
                <br>
                <strong>Substituir:</strong> Apaga tudo o que existe agora e coloca o backup no lugar.
              </p>
            </div>

          </div>
        </BCol>
      </BRow>
    </BCard>
  </div>
</template>

<script>
import { BCard, BButton, BRow, BCol, BAlert } from 'bootstrap-vue-next';

export default {
  name: 'ComoFunciona',
  components: {
    BCard, BButton, BRow, BCol, BAlert
  },
  data() {
    return {
      abaAtiva: 'intro'
    }
  }
}
</script>

<style scoped>
.nav-pills .nav-link {
  color: #4b5563;
  border-radius: 0;
  border-left: 4px solid transparent;
  transition: all 0.2s;
}

.nav-pills .nav-link:hover {
  /* background-color: #e5e7eb; */
}

.nav-pills .nav-link.active {
  /* background-color: #f3f4f6; */
  color: var(--bs-primary);
  border-left-color: var(--bs-primary);
  font-weight: bold;
}

.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(5px); }
  to { opacity: 1; transform: translateY(0); }
}
</style>